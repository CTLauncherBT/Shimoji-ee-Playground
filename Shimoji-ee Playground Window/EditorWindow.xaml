<Window x:Class="ShimojiPlaygroundApp.EditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Shimoji-ee Playground - 1.1.5"
        Height="570"
        Width="900"
        ResizeMode="CanMinimize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="#FFF3EEDC"
        FontFamily="Consolas"
        KeyDown="EditorWindow_KeyDown">

    <Window.Resources>

        <SolidColorBrush x:Key="PaperBg" Color="#FFF3EEDC"/>
        <SolidColorBrush x:Key="Ink" Color="#FF1A1A1A"/>
        <SolidColorBrush x:Key="PanelBg" Color="#FFF7F2E6"/>
        <SolidColorBrush x:Key="BorderInk" Color="#FF2A2A2A"/>

        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource Ink}"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#FFFDFBF4"/>
            <Setter Property="Foreground" Value="{StaticResource Ink}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderInk}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="4"/>
        </Style>

        <Style TargetType="Button">
            <Setter Property="Background" Value="#FFE6DFCC"/>
            <Setter Property="Foreground" Value="{StaticResource Ink}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderInk}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="4"/>
        </Style>

        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="#FFFDFBF4"/>
            <Setter Property="Foreground" Value="{StaticResource Ink}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderInk}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{StaticResource Ink}"/>
        </Style>

        <Style TargetType="TabControl">
            <Setter Property="Background" Value="{StaticResource PaperBg}"/>
        </Style>

        <Style TargetType="TabItem">
            <Setter Property="Background" Value="#FFE6DFCC"/>
            <Setter Property="Foreground" Value="{StaticResource Ink}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderInk}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,3"/>
        </Style>

    </Window.Resources>

    <DockPanel>

        <Border DockPanel.Dock="Top"
            Height="29"
            Background="#FFE6DFCC"
            BorderBrush="{StaticResource BorderInk}"
            BorderThickness="0,0,0,1"
            MouseLeftButtonDown="DragBar_MouseLeftButtonDown">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Image Source="/icon.ico"
           Width="18"
           Height="18"
           Margin="8,0,6,0"
           VerticalAlignment="Center"/>

                <TextBlock Grid.Column="1"
               Text="Shimoji-ee Playground - 1.1.5"
               VerticalAlignment="Center"/>

                <StackPanel Grid.Column="2"
                Orientation="Horizontal">

                <Button Content="—"
                Width="40"
                Height="29"
                BorderThickness="0"
                Click="Minimize_Click"/>

                <Button Content="✕"
                Width="40"
                Height="29"
                BorderThickness="0"
                Click="Close_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <TabControl x:Name="TabControlMain">

            <TabItem Header="Editor">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="300"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0"
                            Background="{StaticResource PanelBg}"
                            BorderBrush="{StaticResource BorderInk}"
                            BorderThickness="1"
                            Padding="10">

                        <StackPanel>

                            <TextBlock Text="Window Title:"/>
                            <TextBox x:Name="WindowTitleTextBox" Text="Shimeji Playground"/>

                            <TextBlock Text="Window Size:" Margin="0,10,0,0"/>
                            <StackPanel Orientation="Horizontal">
                                <TextBox x:Name="WidthTextBox" Width="60" Text="960"/>
                                <TextBox x:Name="HeightTextBox" Width="60" Text="540" Margin="5,0,0,0"/>
                            </StackPanel>

                            <TextBlock Text="Playground:" Margin="0,10,0,0"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="237"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <ComboBox x:Name="PlaygroundComboBox"
                                          Grid.Column="0"
                                          Height="28"
                                          VerticalContentAlignment="Center"
                                          SelectionChanged="PlaygroundComboBox_SelectionChanged">
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                <Image Source="{Binding Icon}"
                                                       Width="24"
                                                       Height="24"
                                                       VerticalAlignment="Center"/>
                                                <TextBlock Text="{Binding Name}"
                                                            Margin="5,0,0,0"
                                                            VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>

                                <Button Grid.Column="1"
                                    Content="Open"
                                    Height="28"
                                    Margin="5,0,0,0"
                                    VerticalContentAlignment="Center"
                                    Click="OpenPlaygroundsFolder_Click"/>
                            </Grid>

                            <TextBox x:Name="TopOverlayText" Visibility="Collapsed"/>
                            <TextBox x:Name="BottomOverlayText" Visibility="Collapsed"/>
                            <TextBox x:Name="LeftOverlayText" Visibility="Collapsed"/>
                            <TextBox x:Name="RightOverlayText" Visibility="Collapsed"/>
                            <TextBox x:Name="BackgroundText" Visibility="Collapsed"/>

                            <TextBlock Text="Top Height (px):" Margin="0,10,0,0"/>
                            <TextBox x:Name="TopHeightText" Width="60" Text="100"/>

                            <TextBlock Text="Bottom Height (px):" Margin="0,10,0,0"/>
                            <TextBox x:Name="BottomHeightText" Width="60" Text="100"/>

                            <TextBlock Text="Left Width (px):" Margin="0,10,0,0"/>
                            <TextBox x:Name="LeftWidthText" Width="60" Text="50"/>

                            <TextBlock Text="Right Width (px):" Margin="0,10,0,0"/>
                            <TextBox x:Name="RightWidthText" Width="60" Text="50"/>

                            <CheckBox x:Name="TopMostMainWindowCheckbox"
                                      Content="Playground topmost"
                                      Margin="0,10,0,0"/>

                            <CheckBox x:Name="StartDirectPlaygroundCheckBox"
                                      Content="Auto start Playground (next time)"/>

                            <Button x:Name="ResetDefaultsButton"
                                    Content="Reset to default"
                                    Margin="0,40,0,0"
                                    Click="ResetDefaults_Click"/>

                            <Button x:Name="SaveSettingsButton"
                                    Content="Save"
                                    Margin="0,4,0,0"
                                    Click="SaveSettingsButton_Click"/>

                        </StackPanel>
                    </Border>

                    <Border Grid.Column="1"
                            Margin="10,10,10,170"
                            Background="#FFFBF8EF"
                            BorderBrush="{StaticResource BorderInk}"
                            BorderThickness="1">

                        <Grid>
                            <Image x:Name="PreviewImage" Stretch="Uniform"/>
                            <Image x:Name="TopOverlayImage" Visibility="Hidden"/>
                            <Image x:Name="BottomOverlayImage" Visibility="Hidden"/>
                            <Image x:Name="LeftOverlayImage" Visibility="Hidden"/>
                            <Image x:Name="RightOverlayImage" Visibility="Hidden"/>
                            <Image x:Name="BackgroundImage" Visibility="Hidden"/>
                        </Grid>
                    </Border>

                </Grid>
            </TabItem>

            <TabItem Header="Playground">
                <StackPanel Margin="10">
                    <Button x:Name="RunButton" Content="Run" Click="RunButton_Click"/>
                    <TextBlock Text="Use: Control + X to return to editor" Margin="0,10,0,0"/>
                    <TextBlock Text="Tip: Set InteractiveWindows=Shimoji Playground" Margin="0,5,0,0"/>
                </StackPanel>
            </TabItem>

            <TabItem Header="Help">
                <StackPanel Margin="10">
                    <TextBlock Text="Shortcuts:"/>
                    <TextBlock Text="Control + X → Editor"/>
                    <TextBlock Text="Control + R → Run"/>
                    <TextBlock Text="Control + S → Save"/>
                </StackPanel>
            </TabItem>

            <TabItem Header="Credits">
                <StackPanel Margin="10">
                    <TextBlock Text="Developer: ZonBock1337"/>
                    <TextBlock Text="Characters: paccha, monikaphobia"/>
                    <TextBlock Text="Playground: Sank"/>
                </StackPanel>
            </TabItem>

        </TabControl>
    </DockPanel>
</Window>